# OpenAI API Key
OPENAI_API_KEY=your_openai_api_key_here

# Redis Configuration
# Default Redis host for docker-compose
REDIS_HOST=redis
# Default Redis port
REDIS_PORT=6379

########################################
# Sync core (dialog-engine) flags
########################################
# 启用同步主链路（Input → dialog-engine → Output）
ENABLE_SYNC_CORE=false
# dialog-engine 的 HTTP 基址（用于 /chat/stream SSE）
DIALOG_ENGINE_URL=http://dialog-engine:8100
# 启用半流式/流式 TTS 推送（M2 起可用）
SYNC_TTS_STREAMING=false
# 允许播报打断（barge-in，M2 起可用）
SYNC_TTS_BARGE_IN=false
# 启用 Outbox + Redis Streams 异步扩展（M3 起可用）
ENABLE_ASYNC_EXT=false
# 按需同步召回 LTM（默认关闭）
ENABLE_LTM_INLINE=false

# You can override these to connect to an external Redis instance, for example:
# REDIS_HOST=192.168.1.100
# REDIS_PORT=6379

# PostgreSQL数据库配置 (用于长期记忆服务的pgvector)
POSTGRES_DB=ltm_vectors
POSTGRES_USER=ltm_user
POSTGRES_PASSWORD=ltm_password

# pgvector配置
PGVECTOR_HOST=postgres
PGVECTOR_PORT=5432
PGVECTOR_DATABASE=ltm_vectors
PGVECTOR_USER=ltm_user
PGVECTOR_PASSWORD=ltm_password

# 长期记忆服务配置
MEM0_CONFIG_PATH=config/mem0_config.yaml
ENABLE_LTM=true
LTM_REQUESTS_QUEUE=ltm_requests
LTM_RESPONSES_CHANNEL=ltm_responses

########################################
# 网络与服务发现（Gateway / Output / Ingest）
########################################
# Gateway 代理到 input-handler 的 WS 地址
INPUT_HANDLER_URL=ws://input-handler:8001
# Gateway 代理到 output-handler 的 WS 地址
OUTPUT_HANDLER_URL=ws://output-handler:8002
# dialog-engine 连接到 output-handler 的内部推流通道（仅内网）
OUTPUT_INGEST_WS_URL=ws://output-handler:8002/ws/ingest/tts
