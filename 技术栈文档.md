# Free Agent Vtuber 项目技术栈

## 项目概述
这是一个基于微服务架构的AI虚拟主播系统，支持语音识别、AI对话、语音合成等功能。

## 技术架构

### 容器化与编排
- **Docker** - 容器化部署
- **Docker Compose** - 多服务编排管理

### 数据库与存储
- **Redis 7** - 消息队列和缓存系统
- **PostgreSQL 16 + pgvector** - 向量数据库，用于长期记忆存储

### 后端技术栈

#### Python 框架与库
- **FastAPI** - 现代化的Python Web框架
- **uvicorn** - ASGI服务器
- **Flask 2.3.3** - 轻量级Web框架（管理服务）

#### AI与机器学习
- **OpenAI** - GPT模型集成
- **mem0ai 0.1.0** - 记忆管理框架
- **FunASR** - 本地语音识别
- **ModelScope** - 模型管理平台

#### 语音技术
- **edge-tts 7.2.1** - 微软Edge文字转语音
- **ASR (Automatic Speech Recognition)** - 语音识别服务

#### 数据处理与通信
- **Redis 5.0.1** - 消息总线
- **httpx** - 异步HTTP客户端
- **websockets 12.0** - WebSocket通信
- **aiofiles** - 异步文件操作
- **pydantic 2.x** - 数据验证和序列化

#### 数据库连接
- **asyncpg** - PostgreSQL异步连接器
- **psycopg2-binary** - PostgreSQL同步连接器

### 前端技术栈
- **Vue 3.4.21** - 渐进式JavaScript框架
- **Vuetify 3.6.8** - Material Design组件库
- **Vite 5.2.0** - 现代化构建工具
- **@mdi/font** - Material Design图标

### 开发与测试工具
- **pytest 8.4.x** - Python测试框架
- **pytest-asyncio** - 异步测试支持
- **pytest-mock** - 模拟测试
- **black** - Python代码格式化
- **isort** - import排序工具
- **psutil** - 系统监控
- **watchdog** - 文件系统监控

### 运行环境
- **uvloop** - 高性能事件循环（非Windows系统）
- **python-multipart** - 多部分数据处理

## 微服务架构

### 核心服务
1. **ASR服务** - 语音识别处理
2. **Chat AI服务** - AI对话处理
3. **TTS服务** - 文字转语音
4. **Memory服务** - 短期记忆管理
5. **Long-term Memory服务** - 长期记忆管理
6. **Gateway服务** - API网关
7. **Input Handler服务** - 输入处理
8. **Output Handler服务** - 输出处理
9. **Dialog Engine服务** - 对话引擎
10. **Manager服务** - 系统管理

### 服务间通信
- **Redis** 作为消息总线
- **WebSocket** 实时通信
- **HTTP/REST API** 服务调用

## 部署特性
- 基于Docker容器化部署
- 支持健康检查
- 自动重启机制
- 数据持久化存储
- 环境变量配置管理

## 开发环境
- 支持开发模式配置 (docker-compose.dev.yml)
- 热重载开发
- 测试驱动开发