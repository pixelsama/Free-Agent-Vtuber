# Free-Agent-Vtuber ğŸ¤–ğŸ™ï¸

![Project Status](https://img.shields.io/badge/status-in%20development-blue)
![License](https://img.shields.io/badge/license-MIT-green)

ä¸€ä¸ªåŸºäºäº‹ä»¶é©±åŠ¨æ¶æ„ã€å¯çµæ´»æ‰©å±•çš„ AI è™šæ‹Ÿä¸»æ’­é¡¹ç›®ã€‚

## ç›®å½•

1. [å…³äºé¡¹ç›®](#å…³äºé¡¹ç›®)
2. [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
3. [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
4. [å¼€å‘ä¸æµ‹è¯•](#å¼€å‘ä¸æµ‹è¯•)
5. [ç³»ç»Ÿæ¶ˆæ¯æµä¸å¥‘çº¦](#ç³»ç»Ÿæ¶ˆæ¯æµä¸å¥‘çº¦)
6. [å¼€å‘è·¯çº¿å›¾](#å¼€å‘è·¯çº¿å›¾)
7. [å‚ä¸è´¡çŒ®](#å‚ä¸è´¡çŒ®)
8. [è®¸å¯è¯](#è®¸å¯è¯)

## å…³äºé¡¹ç›®

`Free-Agent-Vtuber` æ˜¯ä¸€ä¸ªä¸ªäººå®éªŒé¡¹ç›®ï¼Œæ—¨åœ¨æ¢ç´¢æ„å»ºä¸€ä¸ªçœŸæ­£ç”± AI é©±åŠ¨ã€èƒ½å¤Ÿè¿›è¡Œå®æ—¶äº¤äº’çš„è™šæ‹Ÿä¸»æ’­ã€‚

æœ¬é¡¹ç›®çš„æ ¸å¿ƒç‰¹ç‚¹åœ¨äºå…¶ **æ¶æ„**ï¼š

* **äº‹ä»¶é©±åŠ¨ (Event-Driven)**ï¼šæ•´ä¸ªç³»ç»Ÿé€šè¿‡ä¸­å¿ƒåŒ–çš„æ¶ˆæ¯æ€»çº¿ï¼ˆRedisï¼‰è¿›è¡Œé€šä¿¡ï¼Œå„ä¸ªåŠŸèƒ½æ¨¡å—é«˜åº¦è§£è€¦ã€‚
* **æŠ€æœ¯å¼‚æ„ (Polyglot)**ï¼šæ¶æ„å…è®¸ä½¿ç”¨ä»»ä½•ç¼–ç¨‹è¯­è¨€ï¼Œåªè¦è¯¥è¯­è¨€èƒ½ä¸ Redis äº¤äº’ã€‚
* **å¯æ‰©å±•æ€§ (Scalable)**ï¼šå¾—ç›Šäºè§£è€¦è®¾è®¡ï¼Œå¯ä»¥åƒæ­ç§¯æœ¨ä¸€æ ·æ·»åŠ æ–°åŠŸèƒ½ï¼ˆå¦‚é•¿æœŸè®°å¿†ã€è§†è§‰æ„ŸçŸ¥ã€å·¥å…·ä½¿ç”¨ç­‰ï¼‰ã€‚

ç›®æ ‡ä¸ä»…æ˜¯åˆ›å»ºä¸€ä¸ªå•ä¸€çš„ AI ä¸»æ’­ï¼Œè€Œæ˜¯æ„å»ºä¸€ä¸ªèƒ½å¤ŸæŒç»­è¿›åŒ–çš„å¼ºå¤§ AI Agent æ¡†æ¶ã€‚

## æŠ€æœ¯æ ˆ

### åç«¯æ¶æ„
* **æ ¸å¿ƒæ¶æ„**ï¼šå¾®æœåŠ¡ï¼Œäº‹ä»¶é©±åŠ¨
* **æ¶ˆæ¯æ€»çº¿**ï¼š[Redis](https://redis.io/)
* **ä¸»è¦å¼€å‘è¯­è¨€**ï¼š[Python 3.10+](https://www.python.org/)
* **AI å¤§è¯­è¨€æ¨¡å‹**ï¼šå¯æ’æ‹”è®¾è®¡ï¼Œæ”¯æŒå„ç±» LLM APIï¼ˆå¦‚ OpenAI GPTã€Google Gemini ç­‰ï¼‰
* **è¯­éŸ³åˆæˆ (TTS)**ï¼šå¯æ’æ‹”è®¾è®¡ï¼ˆå¦‚ Edge-TTSã€ElevenLabs ç­‰ï¼‰

### å‰ç«¯ç•Œé¢
* **æ¡†æ¶**ï¼š[Vue.js 3](https://vuejs.org/)
* **UI ç»„ä»¶åº“**ï¼š[Vuetify 3](https://vuetifyjs.com/)
* **æ„å»ºå·¥å…·**ï¼š[Vite](https://vitejs.dev/)
* **è™šæ‹Ÿå½¢è±¡**ï¼š[Live2D](https://www.live2d.com/)

### ç®¡ç†ä¸ç›‘æ§
* **æœ¬åœ°å¼€å‘ç®¡ç†**ï¼š[Flask](https://flask.palletsprojects.com/) - è½»é‡çº§ Web ç®¡ç†ç•Œé¢
* **è¿›ç¨‹ç®¡ç†**ï¼šPython subprocess + psutil - æœ¬åœ°æœåŠ¡ç”Ÿå‘½å‘¨æœŸç®¡ç†
* **å®æ—¶ç›‘æ§**ï¼šWebSocket + æ—¥å¿—æµ - æœ¬åœ°å¼€å‘æ—¶çš„å®æ—¶æœåŠ¡çŠ¶æ€ç›‘æ§
* **ç”Ÿäº§éƒ¨ç½²**ï¼šDocker ç‹¬ç«‹å®¹å™¨éƒ¨ç½²

### æµ‹è¯•æ¡†æ¶
* **æµ‹è¯•æ¡†æ¶**ï¼š[pytest](https://pytest.org/) + pytest-asyncio

## å¿«é€Ÿå¼€å§‹

### å…ˆå†³æ¡ä»¶
* [Docker](https://www.docker.com/) & Docker Compose
* [Node.js 18+](https://nodejs.org/)
* [Python 3.10+](https://www.python.org/)ï¼ˆç”¨äºæœ¬åœ°å·¥å…·ï¼‰

### å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your_username/Free-Agent-Vtuber.git
cd Free-Agent-Vtuber
cp .env.example .env
```

### Docker ä¸€é”®å¯åŠ¨

```bash
docker compose up -d
# æˆ–è€…å¼€å‘ç¯å¢ƒçƒ­é‡è½½
# docker compose -f docker-compose.dev.yml up
```

### Managerï¼ˆå¯é€‰ï¼‰

```bash
bash manager/start.sh
```

è®¿é—® http://localhost:5000 ç®¡ç†æœåŠ¡ã€‚

### å‰ç«¯å¼€å‘

```bash
cd front_end
npm install
npm run dev
```

## å¼€å‘ä¸æµ‹è¯•

### å¼€å‘ç¯å¢ƒ

```bash
pip install -r requirements-dev.txt
```

### è¿è¡Œæµ‹è¯•

æ¯ä¸ªæœåŠ¡æ¨¡å—éƒ½æœ‰ç‹¬ç«‹æµ‹è¯•å¥—ä»¶ï¼Œè¿›å…¥å¯¹åº”æœåŠ¡ç›®å½•è¿è¡Œï¼š

```bash
cd services/<service>
pytest -q
```

## ç³»ç»Ÿæ¶ˆæ¯æµä¸å¥‘çº¦

æœ¬é¡¹ç›®é‡‡ç”¨ Redis ä½œä¸ºæ¶ˆæ¯æ€»çº¿ï¼ŒæœåŠ¡é€šè¿‡é˜Ÿåˆ—ï¼ˆlistï¼‰ä¸é¢‘é“ï¼ˆpub/subï¼‰é€šä¿¡ã€‚è¾“å…¥å½’ä¸€åŒ–ç”± `input-handler` è´Ÿè´£ï¼Œé‡‡ç”¨ â€œcontent ä¼˜å…ˆâ€ çš„ç­–ç•¥ã€‚

ç«¯åˆ°ç«¯æ•°æ®æµï¼ˆè¯­éŸ³ â†’ æ–‡æœ¬ â†’ å¯¹è¯ â†’ TTSï¼‰ï¼š

1. å¤–éƒ¨è°ƒç”¨ç½‘å…³ï¼šPOST `/api/asr` â†’ å…¥é˜Ÿ `asr_tasks`ï¼ˆlistï¼‰
2. ASR æœåŠ¡è¯†åˆ«ï¼šæ¶ˆè´¹ `asr_tasks` â†’ å‘å¸ƒè¯†åˆ«ç»“æœåˆ° `asr_results`ï¼ˆpub/subï¼‰
3. è¾“å…¥å½’ä¸€åŒ–ï¼š`input-handler` è®¢é˜… `asr_results`ï¼Œå°† `status=finished` çš„æ–‡æœ¬è½¬ä¸ºæ ‡å‡†ç”¨æˆ·è¾“å…¥ä»»åŠ¡ï¼Œ`LPUSH` åˆ° `user_input_queue`ï¼ˆlistï¼‰
4. è®°å¿†ï¼š`memory` æ¶ˆè´¹ `user_input_queue`ï¼Œä¼˜å…ˆä½¿ç”¨ `task_data.content`ï¼ŒæˆåŠŸåå‘å¸ƒ `memory_updates`ï¼ˆpub/subï¼‰
5. å¯¹è¯ï¼š`chat-ai` è®¢é˜… `memory_updates`ï¼Œç”Ÿæˆå›å¤ï¼Œå‘å¸ƒ `ai_responses`ï¼Œå¹¶ `LPUSH tts_requests`ï¼ˆlistï¼‰
6. è¯­éŸ³åˆæˆä¸è¾“å‡ºï¼š`tts` æ¶ˆè´¹ `tts_requests`ï¼Œåˆæˆåå‘å¸ƒåˆ° `task_response:{task_id}`ï¼ˆpub/subï¼‰ï¼Œ`output`/`gateway` å‘ˆç°

## å¼€å‘è·¯çº¿å›¾

æˆ‘ä»¬å°†åˆ†é˜¶æ®µæ„å»º `Free-Agent-Vtuber`ï¼š

- [x] **Phase 0: æ¦‚å¿µä¸æ¶æ„è®¾è®¡** - å®šä¹‰é¡¹ç›®çš„æ ¸å¿ƒåŸåˆ™å’Œç»“æ„
- [ğŸš§] **Phase 1: æ¶æ„éª¨æ¶éªŒè¯ (The Backbone)**
  - [x] å¾®æœåŠ¡æ¶æ„æ­å»º
  - [x] Redis æ¶ˆæ¯æ€»çº¿é›†æˆ
  - [x] æœåŠ¡ç®¡ç†å™¨å¼€å‘
  - [x] å‰ç«¯äº¤äº’ç•Œé¢å¼€å‘
  - [ğŸš§] æœåŠ¡é—´é€šä¿¡ä¼˜åŒ–
- [ ] **Phase 2: èµ‹äºˆ "å½¢ä½“" (The Body)**
  - [ğŸš§] Live2D è™šæ‹Ÿå½¢è±¡é›†æˆ
  - [ ] VTube Studio API é›†æˆ
  - [ ] åŠ¨ä½œæŒ‡ä»¤ç³»ç»Ÿ
- [ ] **Phase 3: æ³¨å…¥ "æ™ºèƒ½" (The Brain)** - é›†æˆå¤§è¯­è¨€æ¨¡å‹
- [ ] **Phase 4: èµ‹äºˆ "å£°éŸ³" (The Voice)** - é›†æˆ TTS å¼•æ“ï¼Œå®Œæˆ MVP

#### æœªæ¥å±•æœ›

* [ ] **é•¿æœŸè®°å¿†æ¨¡å—**ï¼šé›†æˆæ•°æ®åº“ï¼Œè®© Agent æ‹¥æœ‰è®°å¿†
* [ ] **æƒ…æ„Ÿæ„ŸçŸ¥æ¨¡å—**ï¼šé€šè¿‡æ–‡æœ¬åˆ†æèµ‹äºˆ Agent æƒ…æ„Ÿè¡¨è¾¾èƒ½åŠ›
* [ ] **è§†è§‰æ„ŸçŸ¥æ¨¡å—**ï¼šè®© Agent èƒ½å¤Ÿ "çœ‹åˆ°" å±å¹•æˆ–æ‘„åƒå¤´
* [ ] **å·¥å…·ä½¿ç”¨æ¨¡å—**ï¼šå…è®¸ Agent è°ƒç”¨å¤–éƒ¨ APIï¼ˆå¤©æ°”ã€æœç´¢ç­‰ï¼‰

## å‚ä¸è´¡çŒ®

æˆ‘ä»¬æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºæ‚¨çš„åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ‚¨çš„æ›´æ”¹ (`git commit -m 'feat: add AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ä¸€ä¸ª Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦æƒ…è¯·è§ `LICENSE` æ–‡ä»¶ã€‚

---
**Free-Agent-Vtuber** - *An AI Soul in a Digital Shell.*

